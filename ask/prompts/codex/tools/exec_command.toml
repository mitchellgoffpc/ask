name = "exec_command"
description = """
Runs a command in a PTY, returning output or a session ID for ongoing interaction.
"""

parameters = """
{
  "type": "object",
  "properties": {
    "cmd": {
      "type": "string",
      "description": "Shell command to execute."
    },
    "justification": {
      "type": "string",
      "description": "Only set if sandbox_permissions is \\\"require_escalated\\\". \n                    Request approval from the user to run this command outside the sandbox. \n                    Phrased as a simple question that summarizes the purpose of the \n                    command as it relates to the task at hand - e.g. 'Do you want to \n                    fetch and pull the latest version of this git branch?'"
    },
    "login": {
      "type": "boolean",
      "description": "Whether to run the shell with -l/-i semantics. Defaults to true."
    },
    "max_output_tokens": {
      "type": "number",
      "description": "Maximum number of tokens to return. Excess output will be truncated."
    },
    "prefix_rule": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Only specify when sandbox_permissions is `require_escalated`. \n                    Suggest a prefix command pattern that will allow you to fulfill similar requests from the user in the future.\n                    Should be a short but reasonable prefix, e.g. [\\\"git\\\", \\\"pull\\\"] or [\\\"uv\\\", \\\"run\\\"] or [\\\"pytest\\\"]."
    },
    "sandbox_permissions": {
      "type": "string",
      "description": "Sandbox permissions for the command. Set to \"require_escalated\" to request running without sandbox restrictions; defaults to \"use_default\"."
    },
    "shell": {
      "type": "string",
      "description": "Shell binary to launch. Defaults to the user's default shell."
    },
    "tty": {
      "type": "boolean",
      "description": "Whether to allocate a TTY for the command. Defaults to false (plain pipes); set to true to open a PTY and access TTY process."
    },
    "workdir": {
      "type": "string",
      "description": "Optional working directory to run the command in; defaults to the turn cwd."
    },
    "yield_time_ms": {
      "type": "number",
      "description": "How long to wait (in milliseconds) for output before yielding."
    }
  },
  "required": [
    "cmd"
  ],
  "additionalProperties": false
}
"""
